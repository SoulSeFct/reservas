<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Restaurante Baúl de Kiwi</title>
  <link rel="stylesheet" href="../css/mainpage.css">
  <link rel="icon" href="../src/icon.png">
</head>
<body>

  <!-- Barra de navegación -->
  <header>
    <div class="container">
      <h1>Restaurante Baúl de Kiwis</h1>
      <nav>
        <a target="_blank" href="https://www.canva.com/design/DAGz2f4dMOA/sb68GIXiohtwlkmfyVoMQA/view?utm_content=DAGz2f4dMOA&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h3b24ecc238 ">Menu</a>
        <a href="booking">Reservar</a>
      </nav>
    </div>
  </header>

  <!-- bienvenids -->
  <section class="bienvenida">
    <h2>¡Bienvenido al baúl de Kiwis!</h2>
    <p>We believe in Kiwi</p>
    <a href="booking" class="btn">Reservar Ahora</a>
  </section>

  <!-- Menú -->
  <section id="menu" class="menu">
    <h3>Platos Recomendados</h3>
    <div class="menu-grid">
      <div class="plato">
        <img gallo pinto src="../src/gallopinto.png" alt="Gallo Pinto">
        <h4>Gallo pinto</h4>
        <p><strong>Descripción: </strong>Plato tradicional de Costa Rica y Nicaragua, hecho a base de arroz y frijoles negros o rojos mezclados con especias, cebolla y pimiento. Suele servirse en el desayuno acompañado de huevos, plátano maduro, natilla o tortillas. Es un símbolo de la gastronomía centroamericana.</p>
      </div>
      <div class="plato">
        <img src="../src/kiwis.webp" alt="Kiwis (comida)">
        <h4>Kiwis</h4>
        <p><strong>Descripción: </strong>Fruta pequeña, ovalada y de piel marrón con textura peluda, cuyo interior es verde brillante con pequeñas semillas negras. Es muy refrescante, dulce y ligeramente ácido, rica en vitamina C y fibra. Ideal para consumir sola, en ensaladas de frutas o como ingrediente en postres.</p>
      </div>
      <div class="plato">
        <img src="../src/sopasteca.webp" alt="Sopa azteca">
        <h4>Sopa azteca</h4>
        <p><strong>Descripción: </strong>Tradicional sopa mexicana elaborada con caldo de tomate y chile pasilla, tiras de tortilla frita, ajo, cebolla y a veces pollo. Se sirve acompañada de aguacate, queso, crema y chile en polvo. Es un platillo cálido y reconfortante con un sabor ligeramente picante y profundo.</p>
      </div>
      <div class="plato">
        <img src="../src/sush.webp" alt="Sushi">
        <h4>Sushi</h4>
        <p><strong>Descripción: </strong>Plato japonés que combina arroz sazonado con vinagre y diversos ingredientes como pescado crudo, mariscos, vegetales y algas nori. Se presenta en diferentes formas como maki, nigiri o sashimi. Es apreciado por su frescura, sabor delicado y estética cuidada.</p>
      </div>
    </div>
  </section>
<h2>Reservaciones recientes</h2>
<table id="tablaReservas">
        <thead>
            <tr>
                <th>Correo</th>
                <th>Fecha</th>
                <th>Hora</th>
                <th>Mesa</th>
            </tr>
        </thead>
        <tbody>
            <!-- Aquí se llenará dinámicamente -->
        </tbody>
    </table>
  <!-- Reservas -->
  <section id="reservas" class="reservas">
    <h3>Reserva tu Mesa</h3>
    <p>Disfruta de una experiencia única con kiwis reservando en segundos.</p>
    <a href="booking" class="btn">Reservar Ahora</a>
    <div class="tabla-reservas">
  </div>
  </section>

</body>
<script>
async function cargarReservas() {
    try {
        const res = await fetch("/api/reservas/all");
        const data = await res.json();
        const tbody = document.querySelector("#tablaReservas tbody");
        tbody.innerHTML = ""; // limpiar tabla

        data.forEach(r => {
    const fechaHoraReserva = new Date(`${r.fecha}T${r.tiempo}`);

    const ahora = new Date();
    if (fechaHoraReserva >= ahora) {
        const fila = document.createElement("tr");
        fila.innerHTML = `
            <td>${r.correo}</td>
            <td>${r.fecha}</td>
            <td>${r.tiempo}</td>
            <td>${r.mesa}</td>
        `;
        tbody.appendChild(fila);
    }
});

    } catch (err) {
        console.error("Error cargando reservas:", err);
    }
}

document.addEventListener("DOMContentLoaded", cargarReservas);
</script>

</html>
